repos:
    - repo: https://github.com/pre-commit/pre-commit-hooks
      rev: v6.0.0 #updated 2025-10-20
      hooks:
          - id: trailing-whitespace
          - id: end-of-file-fixer
          - id: check-yaml
          - id: check-added-large-files

    - repo: https://github.com/commitizen-tools/commitizen
      rev: v3.29.0 # Check for the latest version
      hooks:
          - id: commitizen
            stages: [commit-msg]

    - repo: https://github.com/astral-sh/ruff-pre-commit
      rev: v0.14.7 #updated 2025-12-03
      hooks:
          - id: ruff
            args: [--fix]
          - id: ruff-format

    - repo: local
      hooks:
          - id: mypy
            name: mypy
            entry: uv run scripts/type_check.py
            language: system
            types: [python]
            pass_filenames: false

    - repo: https://github.com/PyCQA/bandit
      rev: 1.8.6 #updated 2025-10-20
      hooks:
          - id: bandit
            args: ["-c", "pyproject.toml"]
            exclude: tests/|services/.*/tests/

    - repo: https://github.com/Yelp/detect-secrets
      rev: v1.5.0 # Or the latest version
      hooks:
          - id: detect-secrets
            args: ["--baseline", ".secrets.baseline"]
            exclude: .*/tests/.* # Exclude tests from secret scanning

    - repo: local
      hooks:
          - id: detect-secrets-baseline
            name: Update detect-secrets baseline
            entry: detect-secrets scan --baseline .secrets.baseline
            language: system
            pass_filenames: false
            stages: [manual] # Only run when manually invoked

          - id: check-adr-in-mkdocs
            name: Check ADRs are in mkdocs.yml
            entry: python scripts/check-adr-in-mkdocs.py
            language: system
            pass_filenames: false
            files: ^(docs/20_architecture/adrs/.*\.md|mkdocs\.yml)$
